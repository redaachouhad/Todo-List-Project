<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>To-Do List</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
</head>
<body>
<div class=" w-full h-[100vh] flex flex-col justify-start items-center bg-blue-200">
   <br />
   <br />
    <div class="w-[90vmin] flex flex-col justify-center items-center p-6">
        <h1 class="text-3xl font-bold">To-Do List</h1>
        <br />
       <form action="/add" method="post" class="w-full flex justify-between items-center gap-2 p-2 bg-white rounded-lg">
           <input type="text" name="description" placeholder="New Task" class="flex-1 w-full p-1 outline-none"/>
           <button type="submit" class="w-fit p-1.5 bg-blue-600 text-white text-lg rounded-md">Add Task</button>
       </form>
        <br />
       <ul class="w-full flex flex-col gap-2">
           <li  th:each="task : ${tasks}" class="mb-2 flex items-center border-2 border-blue-600 p-2 gap-2 bg-white rounded-lg">
               <span th:text="${task.description}" class="flex-grow text-lg font-semibold"></span>

               <span th:if="${task.completed}" class="text-green-600 mr-4"> - Completed</span>

               <form action="/complete" method="post" th:if="${!task.completed}">
                   <input type="hidden" name="id" th:value="${task.id}">
                   <button type="submit" class="bg-green-500 text-white px-2 py-1 rounded hover:bg-green-600">Mark as Complete</button>
               </form>

               <form action="/delete" method="post">
                   <input type="hidden" name="id" th:value="${task.id}">
                   <button type="submit" class="bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600">Delete</button>
               </form>
           </li>


       </ul>
       <div>

       </div>



   </div>
</div>

</body>
</html>